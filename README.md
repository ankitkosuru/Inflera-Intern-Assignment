                                                                # Inflera-Intern-Assignment
## Overview
This project implements a multi-agent Q&A system with a routing layer that decides which specialized agent should handle a user’s query. The system integrates:
RAG Agent: Retrieval-Augmented Generation over domain text files (Amazon Echo Dot in this case).
Calculator Agent: Handles numeric and computational queries using numexpr.
Dictionary Agent: Provides word definitions using the Free Dictionary API.
A Gradio UI wraps everything, enabling interactive testing in a single notebook.

## Architecture

     User Query
     │
     ▼
 ┌───────────────┐
 │   Router      │   
 └──────┬────────┘
        │
 ┌──────┼──────────────┬
 ▼      ▼              ▼
Calc   Dict           RAG
Agent  Agent          Agent
(num)  (defs)         (FAISS + FLAN-T5)

### Core Flow
RAG path: Uploaded .txt files → split into chunks → embedded with all-MiniLM-L6-v2 → indexed in FAISS → top-k retrieval → answer generated by FLAN-T5.
Calculator path: Numeric expressions or month-wise comparisons resolved with numexpr.
Dictionary path: Definitions fetched via API.
Router: Keyword-based heuristics decide which agent is called.


## Key Design Choices
Dense retrieval with FAISS over sparse (BM25) → better handling of paraphrased queries.
MiniLM embeddings → lightweight and efficient.
FLAN-T5-base → deterministic, stable outputs for consistent evaluation.
Heuristic router → predictable behavior and easy debugging.
Guardrails → if no relevant context is retrieved, the system responds with “Not found in the uploaded files” rather than hallucinating.
Calculator/Dictionary overrides → specialized agents improve accuracy for numeric and definition queries.
Timeouts → prevent long LLM calls from freezing the UI.

## How to Run
### Google Colab
Open the notebook Inflerno_Intern_Assignment.ipynb in Google Colab.
Run cells in order:
Install dependencies
Upload six .txt files (Amazon files)
Ingest & build FAISS index
Load FLAN-T5 model
Define agents & router
Launch Gradio UI

### Test with queries:
“What are the available colors for Echo Dot?” → RAG
“Define latency, inference” → Dictionary
“Calculate total sales of Echo Dot” → Calculator

## Router Keywords
### Dictionary Agent
Triggered when query contains: define, meaning of
Example:
“Define inference and latency” → Dictionary Agent

### Calculator Agent
Triggered when query has numeric or aggregation cues:
Words like : calculate, average, mean
Numbers with operators (+, -, %, increase, decrease)
comparative terms like highest, lowest, maximum, minimum
Example:
"Calculate total Sales of Echo Dot" - Calculator Agent


## Example Queries
1) What payment methods are Accepted by Amazon?
2) Define Counterfeit
3) In which month Echo Dot has highest sales?


## License & Credits

Embeddings: sentence-transformers/all-MiniLM-L6-v2
LLM: google/flan-t5-base
Dictionary API: Free Dictionary API






